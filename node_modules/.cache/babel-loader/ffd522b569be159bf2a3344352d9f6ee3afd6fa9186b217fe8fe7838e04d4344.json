{"ast":null,"code":"import React,{useMemo,useState}from\"react\";import\"./ReportsLayout.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ReportsLayout(_ref){let{rows}=_ref;const defaultRows=useMemo(()=>{const out=[];try{for(let i=0;i<localStorage.length;i++){const key=localStorage.key(i);if(!key||!key.startsWith(\"appointments_\"))continue;const list=JSON.parse(localStorage.getItem(key)||\"[]\");if(!Array.isArray(list))continue;list.forEach((appt,idx)=>{out.push({id:\"\".concat(key,\"_\").concat(idx),doctorName:appt.doctorName||\"Doctor\",specialty:appt.specialty||\"—\",date:appt.date||\"—\",time:appt.timeSlot||\"—\"});});}}catch(_unused){}if(out.length===0){return[{id:\"1\",doctorName:\"Dr. John Doe\",specialty:\"Cardiology\",date:\"2025-06-12\",time:\"10:30 AM\"},{id:\"2\",doctorName:\"Dr. Jane Smith\",specialty:\"Dermatology\",date:\"2025-06-15\",time:\"02:00 PM\"}];}return out;},[]);const[data]=useState(rows&&rows.length?rows:defaultRows);return/*#__PURE__*/_jsxs(\"section\",{className:\"rep-wrap\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"rep-title\",children:\"Reports\"}),/*#__PURE__*/_jsx(\"div\",{className:\"rep-card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"rep-table-scroll\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"rep-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Serial Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Doctor Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Doctor Speciality\"}),/*#__PURE__*/_jsx(\"th\",{children:\"View Report\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Download Report\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map((row,idx)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:idx+1}),/*#__PURE__*/_jsx(\"td\",{className:\"rep-doctor\",children:row.doctorName}),/*#__PURE__*/_jsx(\"td\",{children:row.specialty}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/reports/patient_report.pdf\",target:\"_blank\",rel:\"noopener noreferrer\",className:\"rep-btn rep-btn-primary\",children:\"View Report\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/reports/patient_report.pdf\",download:\"report_\".concat(row.id,\".pdf\"),className:\"rep-btn rep-btn-primary\",children:\"Download Report\"})})]},row.id))})]})})})]});}","map":{"version":3,"names":["React","useMemo","useState","jsx","_jsx","jsxs","_jsxs","ReportsLayout","_ref","rows","defaultRows","out","i","localStorage","length","key","startsWith","list","JSON","parse","getItem","Array","isArray","forEach","appt","idx","push","id","concat","doctorName","specialty","date","time","timeSlot","_unused","data","className","children","map","row","href","target","rel","download"],"sources":["/home/project/stayhealthy/src/components/ReportsLayout/ReportsLayout.js"],"sourcesContent":["import React, { useMemo, useState } from \"react\";\nimport \"./ReportsLayout.css\";\n\nexport default function ReportsLayout({ rows }) {\n  const defaultRows = useMemo(() => {\n    const out = [];\n    try {\n      for (let i = 0; i < localStorage.length; i++) {\n        const key = localStorage.key(i);\n        if (!key || !key.startsWith(\"appointments_\")) continue;\n        const list = JSON.parse(localStorage.getItem(key) || \"[]\");\n        if (!Array.isArray(list)) continue;\n        list.forEach((appt, idx) => {\n          out.push({\n            id: `${key}_${idx}`,\n            doctorName: appt.doctorName || \"Doctor\",\n            specialty: appt.specialty || \"—\",\n            date: appt.date || \"—\",\n            time: appt.timeSlot || \"—\",\n          });\n        });\n      }\n    } catch {}\n    if (out.length === 0) {\n      return [\n        { id: \"1\", doctorName: \"Dr. John Doe\", specialty: \"Cardiology\", date: \"2025-06-12\", time: \"10:30 AM\" },\n        { id: \"2\", doctorName: \"Dr. Jane Smith\", specialty: \"Dermatology\", date: \"2025-06-15\", time: \"02:00 PM\" },\n      ];\n    }\n    return out;\n  }, []);\n\n  const [data] = useState(rows && rows.length ? rows : defaultRows);\n\n  return (\n    <section className=\"rep-wrap\">\n      <h2 className=\"rep-title\">Reports</h2>\n\n      <div className=\"rep-card\">\n        <div className=\"rep-table-scroll\">\n          <table className=\"rep-table\">\n            <thead>\n              <tr>\n                <th>Serial Number</th>\n                <th>Doctor Name</th>\n                <th>Doctor Speciality</th>\n                <th>View Report</th>\n                <th>Download Report</th>\n              </tr>\n            </thead>\n            <tbody>\n              {data.map((row, idx) => (\n                <tr key={row.id}>\n                  <td>{idx + 1}</td>\n                  <td className=\"rep-doctor\">{row.doctorName}</td>\n                  <td>{row.specialty}</td>\n                  <td>\n                    <a href=\"/reports/patient_report.pdf\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"rep-btn rep-btn-primary\">\n                      View Report\n                    </a>\n                  </td>\n                  <td>\n                    <a href=\"/reports/patient_report.pdf\" download={`report_${row.id}.pdf`} className=\"rep-btn rep-btn-primary\">\n                      Download Report\n                    </a>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </section>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}