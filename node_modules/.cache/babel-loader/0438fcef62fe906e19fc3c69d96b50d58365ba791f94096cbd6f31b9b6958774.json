{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import\"./Notification.css\";/**\n * Notification\n * Props:\n *  - appointment: {\n *      doctorName, specialty, name, phone, date, timeSlot\n *    }\n *  - show: boolean                  // initial visibility (default: false)\n *  - canceled: boolean              // set to true when a booking is canceled\n *  - onDismiss?: () => void         // callback when user closes / auto hides\n *  - autoHideMs?: number | null     // e.g., 6000 to auto-hide; null disables\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Notification(_ref){let{appointment={},show=false,canceled=false,onDismiss,autoHideMs=6000}=_ref;const[visible,setVisible]=useState(show);// Keep internal state in sync when parent toggles \"show\"\nuseEffect(()=>{setVisible(show);},[show]);// 🔔 Hide when the parent signals a cancellation\nuseEffect(()=>{if(canceled&&visible){setVisible(false);onDismiss===null||onDismiss===void 0?void 0:onDismiss();}},[canceled,visible,onDismiss]);// Optional auto-hide\nuseEffect(()=>{if(!visible||!autoHideMs)return;const t=setTimeout(()=>{setVisible(false);onDismiss===null||onDismiss===void 0?void 0:onDismiss();},autoHideMs);return()=>clearTimeout(t);},[visible,autoHideMs,onDismiss]);// Close on ESC\nuseEffect(()=>{if(!visible)return;const onKey=e=>{if(e.key===\"Escape\"){setVisible(false);onDismiss===null||onDismiss===void 0?void 0:onDismiss();}};window.addEventListener(\"keydown\",onKey);return()=>window.removeEventListener(\"keydown\",onKey);},[visible,onDismiss]);if(!visible)return null;const{doctorName=\"Doctor\",specialty=\"Speciality\",name=\"—\",phone=\"—\",date=\"—\",timeSlot=\"—\"}=appointment;return/*#__PURE__*/_jsx(\"div\",{className:\"notify-root\",role:\"alert\",\"aria-live\":\"assertive\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"notify-card\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"notify-close\",\"aria-label\":\"Close notification\",onClick:()=>{setVisible(false);onDismiss===null||onDismiss===void 0?void 0:onDismiss();},children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"notify-title\",children:\"Appointment Details\"}),/*#__PURE__*/_jsxs(\"dl\",{className:\"notify-list\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"dt\",{children:\"Doctor:\"}),/*#__PURE__*/_jsx(\"dd\",{children:doctorName})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"dt\",{children:\"Speciality:\"}),/*#__PURE__*/_jsx(\"dd\",{children:specialty})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"dt\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"dd\",{children:name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"dt\",{children:\"Phone Number:\"}),/*#__PURE__*/_jsx(\"dd\",{children:phone})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"dt\",{children:\"Date of Appointment:\"}),/*#__PURE__*/_jsx(\"dd\",{children:date})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"dt\",{children:\"Time Slot:\"}),/*#__PURE__*/_jsx(\"dd\",{children:timeSlot})]})]})]})});}","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Notification","_ref","appointment","show","canceled","onDismiss","autoHideMs","visible","setVisible","t","setTimeout","clearTimeout","onKey","e","key","window","addEventListener","removeEventListener","doctorName","specialty","name","phone","date","timeSlot","className","role","children","onClick"],"sources":["/home/project/stayhealthy/src/components/Notification/Notification.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./Notification.css\";\n\n/**\n * Notification\n * Props:\n *  - appointment: {\n *      doctorName, specialty, name, phone, date, timeSlot\n *    }\n *  - show: boolean                  // initial visibility (default: false)\n *  - canceled: boolean              // set to true when a booking is canceled\n *  - onDismiss?: () => void         // callback when user closes / auto hides\n *  - autoHideMs?: number | null     // e.g., 6000 to auto-hide; null disables\n */\nexport default function Notification({\n  appointment = {},\n  show = false,\n  canceled = false,\n  onDismiss,\n  autoHideMs = 6000,\n}) {\n  const [visible, setVisible] = useState(show);\n\n  // Keep internal state in sync when parent toggles \"show\"\n  useEffect(() => {\n    setVisible(show);\n  }, [show]);\n\n  // 🔔 Hide when the parent signals a cancellation\n  useEffect(() => {\n    if (canceled && visible) {\n      setVisible(false);\n      onDismiss?.();\n    }\n  }, [canceled, visible, onDismiss]);\n\n  // Optional auto-hide\n  useEffect(() => {\n    if (!visible || !autoHideMs) return;\n    const t = setTimeout(() => {\n      setVisible(false);\n      onDismiss?.();\n    }, autoHideMs);\n    return () => clearTimeout(t);\n  }, [visible, autoHideMs, onDismiss]);\n\n  // Close on ESC\n  useEffect(() => {\n    if (!visible) return;\n    const onKey = (e) => {\n      if (e.key === \"Escape\") {\n        setVisible(false);\n        onDismiss?.();\n      }\n    };\n    window.addEventListener(\"keydown\", onKey);\n    return () => window.removeEventListener(\"keydown\", onKey);\n  }, [visible, onDismiss]);\n\n  if (!visible) return null;\n\n  const {\n    doctorName = \"Doctor\",\n    specialty = \"Speciality\",\n    name = \"—\",\n    phone = \"—\",\n    date = \"—\",\n    timeSlot = \"—\",\n  } = appointment;\n\n  return (\n    <div className=\"notify-root\" role=\"alert\" aria-live=\"assertive\">\n      <div className=\"notify-card\">\n        <button\n          className=\"notify-close\"\n          aria-label=\"Close notification\"\n          onClick={() => {\n            setVisible(false);\n            onDismiss?.();\n          }}\n        >\n          ×\n        </button>\n\n        <h3 className=\"notify-title\">Appointment Details</h3>\n\n        <dl className=\"notify-list\">\n          <div>\n            <dt>Doctor:</dt>\n            <dd>{doctorName}</dd>\n          </div>\n          <div>\n            <dt>Speciality:</dt>\n            <dd>{specialty}</dd>\n          </div>\n          <div>\n            <dt>Name:</dt>\n            <dd>{name}</dd>\n          </div>\n          <div>\n            <dt>Phone Number:</dt>\n            <dd>{phone}</dd>\n          </div>\n          <div>\n            <dt>Date of Appointment:</dt>\n            <dd>{date}</dd>\n          </div>\n          <div>\n            <dt>Time Slot:</dt>\n            <dd>{timeSlot}</dd>\n          </div>\n        </dl>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}